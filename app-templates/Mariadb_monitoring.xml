<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>4.4</version>
    <date>2020-04-13T11:11:25Z</date>
    <groups>
        <group>
            <name>Simple monitoring marksugar</name>
        </group>
    </groups>
    <templates>
        <template>
            <template>Mariadb_monitoring</template>
            <name>Mariadb_monitoring</name>
            <description>监控优化</description>
            <groups>
                <group>
                    <name>Simple monitoring marksugar</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>innodb bp pages status</name>
                </application>
                <application>
                    <name>innodb data status</name>
                </application>
                <application>
                    <name>innodb log Write</name>
                </application>
                <application>
                    <name>innodb rows status</name>
                </application>
                <application>
                    <name>OPS/TPS</name>
                </application>
                <application>
                    <name>可用性</name>
                </application>
                <application>
                    <name>缓冲池使用情况</name>
                </application>
                <application>
                    <name>网络字节数</name>
                </application>
                <application>
                    <name>链接情况</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>Aborted_connects尝试与服务器建立连接但是失败的次数[60s]</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>maria.db[Aborted_connects]</key>
                    <delay>60s</delay>
                    <history>15d</history>
                    <trends>30d</trends>
                    <description>https://jin-yang.github.io/post/mysql-monitor.html&#13;
尝试与服务器建立连接但是失败的次数</description>
                    <applications>
                        <application>
                            <name>链接情况</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>CHANGE_PER_SECOND</type>
                            <params/>
                        </step>
                    </preprocessing>
                    <request_method>POST</request_method>
                </item>
                <item>
                    <name>Bytes_received[收到的网络字节数]60s</name>
                    <key>maria.db[Bytes_received]</key>
                    <units>60s</units>
                    <applications>
                        <application>
                            <name>网络字节数</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>SIMPLE_CHANGE</type>
                            <params/>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>Bytes_received[已发送的网络字节数]60s</name>
                    <key>maria.db[Bytes_sent]</key>
                    <units>60s</units>
                    <applications>
                        <application>
                            <name>网络字节数</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>SIMPLE_CHANGE</type>
                            <params/>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>Com_delete删除[60s]</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>maria.db[Com_delete]</key>
                    <history>15d</history>
                    <trends>30d</trends>
                    <applications>
                        <application>
                            <name>OPS/TPS</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>CHANGE_PER_SECOND</type>
                            <params/>
                        </step>
                    </preprocessing>
                    <request_method>POST</request_method>
                </item>
                <item>
                    <name>Com_insert插入[60s]</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>maria.db[Com_insert]</key>
                    <history>15d</history>
                    <trends>30d</trends>
                    <applications>
                        <application>
                            <name>OPS/TPS</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>CHANGE_PER_SECOND</type>
                            <params/>
                        </step>
                    </preprocessing>
                    <request_method>POST</request_method>
                </item>
                <item>
                    <name>QPS-com_select查询[60s]</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>maria.db[com_select]</key>
                    <history>15d</history>
                    <trends>30d</trends>
                    <description>执行SELECT语句的数量，通常也就是QPS</description>
                    <applications>
                        <application>
                            <name>OPS/TPS</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>CHANGE_PER_SECOND</type>
                            <params/>
                        </step>
                    </preprocessing>
                    <request_method>POST</request_method>
                </item>
                <item>
                    <name>Com_update修改[60s]</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>maria.db[Com_update]</key>
                    <history>15d</history>
                    <trends>30d</trends>
                    <applications>
                        <application>
                            <name>OPS/TPS</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>CHANGE_PER_SECOND</type>
                            <params/>
                        </step>
                    </preprocessing>
                    <request_method>POST</request_method>
                </item>
                <item>
                    <name>Connection_errors_internal由于服务器内部本身导致的错误[60s]</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>maria.db[Connection_errors_internal]</key>
                    <delay>60s</delay>
                    <history>15d</history>
                    <trends>30d</trends>
                    <description>如果采用每个连接一个线程的方式，可以通过Threads_connected查看，监控该指标与先前设置的连接限制，可以确保服务器拥有足够的容量处理新的连接。&#13;
&#13;
另外，通过Threads_running指标，可以查看正在处理请求的线程，可以用来判断那些连接被占用但却没有处理任何请求。&#13;
&#13;
如果达到max_connections就会拒绝新的连接请求，Connection_errors_max_connections指标就会开始增加，同时，追踪所有失败连接尝试的Aborted_connects指标也会开始增加。&#13;
&#13;
另外，通过Connection_errors_internal这个指标，可以用来监控来自服务器本身导致的错误，例如内存不足</description>
                    <applications>
                        <application>
                            <name>链接情况</name>
                        </application>
                    </applications>
                    <request_method>POST</request_method>
                </item>
                <item>
                    <name>Connection_errors_max_connections由于到达最大连接数导致的错误[60s]</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>maria.db[Connection_errors_max_connections]</key>
                    <delay>60s</delay>
                    <history>15d</history>
                    <trends>30d</trends>
                    <applications>
                        <application>
                            <name>链接情况</name>
                        </application>
                    </applications>
                    <request_method>POST</request_method>
                </item>
                <item>
                    <name>Innodb_buffer缓存命中率</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>maria.db[HitRate]</key>
                    <delay>5m</delay>
                    <history>15d</history>
                    <trends>30d</trends>
                    <value_type>FLOAT</value_type>
                    <units>%</units>
                    <description>(Innodb_buffer_pool_read_requests - Innodb_buffer_pool_reads) /&#13;
    Innodb_buffer_pool_read_requests * 100%</description>
                    <applications>
                        <application>
                            <name>缓冲池使用情况</name>
                        </application>
                    </applications>
                    <triggers>
                        <trigger>
                            <expression>{last()}&lt;90</expression>
                            <name>{HOST.IP} innodb buffer 缓存池命中率小于90%</name>
                            <priority>AVERAGE</priority>
                            <description>如果QPS大命中率小，存在性能问题，否则相反</description>
                            <manual_close>YES</manual_close>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>已经使用缓存页数</name>
                    <key>maria.db[Innodb_buffer_pool_pages_data]</key>
                    <applications>
                        <application>
                            <name>innodb bp pages status</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>脏页数目</name>
                    <key>maria.db[Innodb_buffer_pool_pages_dirty]</key>
                    <applications>
                        <application>
                            <name>innodb bp pages status</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>每秒刷新页数</name>
                    <key>maria.db[Innodb_buffer_pool_pages_flushed]</key>
                    <delay>30s</delay>
                    <applications>
                        <application>
                            <name>innodb bp pages status</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>SIMPLE_CHANGE</type>
                            <params/>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>Innodb_buffer_pool_pages_free空页数</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>maria.db[Innodb_buffer_pool_pages_free]</key>
                    <delay>30s</delay>
                    <history>15d</history>
                    <trends>30d</trends>
                    <description>Innodb_buffer_pool_read_requests记录了读取请求的数量，而Innodb_buffer_pool_reads记录了缓冲池无法满足，因而只能从磁盘读取的请求数量，也就是说，如果Innodb_buffer_pool_reads的值开始增加，意味着数据库性能大有问题。&#13;
缓存的使用率和命中率可以通过如下方法计算：&#13;
&#13;
(Innodb_buffer_pool_pages_total - Innodb_buffer_pool_pages_free) /&#13;
    Innodb_buffer_pool_pages_total * 100%&#13;
&#13;
(Innodb_buffer_pool_read_requests - Innodb_buffer_pool_reads) /&#13;
    Innodb_buffer_pool_read_requests * 100%&#13;
如果数据库从磁盘进行大量读取，而缓冲池还有许多闲置空间，这可能是因为缓存最近才清理过，还处于预热阶段。</description>
                    <applications>
                        <application>
                            <name>缓冲池使用情况</name>
                        </application>
                    </applications>
                    <request_method>POST</request_method>
                </item>
                <item>
                    <name>Innodb_buffer_pool_pages_totalBP中总页面数[60s]</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>maria.db[Innodb_buffer_pool_pages_total]</key>
                    <delay>60s</delay>
                    <history>15d</history>
                    <description>Innodb_buffer_pool_read_requests记录了读取请求的数量，而Innodb_buffer_pool_reads记录了缓冲池无法满足，因而只能从磁盘读取的请求数量，也就是说，如果Innodb_buffer_pool_reads的值开始增加，意味着数据库性能大有问题。&#13;
缓存的使用率和命中率可以通过如下方法计算：&#13;
&#13;
(Innodb_buffer_pool_pages_total - Innodb_buffer_pool_pages_free) /&#13;
    Innodb_buffer_pool_pages_total * 100%&#13;
&#13;
(Innodb_buffer_pool_read_requests - Innodb_buffer_pool_reads) /&#13;
    Innodb_buffer_pool_read_requests * 100%&#13;
如果数据库从磁盘进行大量读取，而缓冲池还有许多闲置空间，这可能是因为缓存最近才清理过，还处于预热阶段。</description>
                    <applications>
                        <application>
                            <name>缓冲池使用情况</name>
                        </application>
                    </applications>
                    <request_method>POST</request_method>
                </item>
                <item>
                    <name>Innodb_buffer_pool_reads物理读次数[60s]</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>maria.db[Innodb_buffer_pool_reads]</key>
                    <delay>60s</delay>
                    <history>15d</history>
                    <trends>30d</trends>
                    <description>Innodb_buffer_pool_read_requests记录了读取请求的数量，而Innodb_buffer_pool_reads记录了缓冲池无法满足，因而只能从磁盘读取的请求数量，也就是说，如果Innodb_buffer_pool_reads的值开始增加，意味着数据库性能大有问题。&#13;
缓存的使用率和命中率可以通过如下方法计算：&#13;
&#13;
(Innodb_buffer_pool_pages_total - Innodb_buffer_pool_pages_free) /&#13;
    Innodb_buffer_pool_pages_total * 100%&#13;
&#13;
(Innodb_buffer_pool_read_requests - Innodb_buffer_pool_reads) /&#13;
    Innodb_buffer_pool_read_requests * 100%&#13;
如果数据库从磁盘进行大量读取，而缓冲池还有许多闲置空间，这可能是因为缓存最近才清理过，还处于预热阶段。&#13;
&#13;
物理读总次数</description>
                    <applications>
                        <application>
                            <name>缓冲池使用情况</name>
                        </application>
                    </applications>
                    <request_method>POST</request_method>
                </item>
                <item>
                    <name>Innodb_buffer_pool_read_requests逻辑读缓存请求的数量[60s]</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>maria.db[Innodb_buffer_pool_read_requests]</key>
                    <delay>60s</delay>
                    <history>15d</history>
                    <trends>30d</trends>
                    <description>Innodb_buffer_pool_read_requests记录了读取请求的数量，而Innodb_buffer_pool_reads记录了缓冲池无法满足，因而只能从磁盘读取的请求数量，也就是说，如果Innodb_buffer_pool_reads的值开始增加，意味着数据库性能大有问题。&#13;
缓存的使用率和命中率可以通过如下方法计算：&#13;
&#13;
(Innodb_buffer_pool_pages_total - Innodb_buffer_pool_pages_free) /&#13;
    Innodb_buffer_pool_pages_total * 100%&#13;
&#13;
(Innodb_buffer_pool_read_requests - Innodb_buffer_pool_reads) /&#13;
    Innodb_buffer_pool_read_requests * 100%&#13;
如果数据库从磁盘进行大量读取，而缓冲池还有许多闲置空间，这可能是因为缓存最近才清理过，还处于预热阶段。</description>
                    <applications>
                        <application>
                            <name>缓冲池使用情况</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>SIMPLE_CHANGE</type>
                            <params/>
                        </step>
                    </preprocessing>
                    <request_method>POST</request_method>
                </item>
                <item>
                    <name>数据读总次数[1m]</name>
                    <key>maria.db[Innodb_data_reads]</key>
                    <applications>
                        <application>
                            <name>innodb data status</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>SIMPLE_CHANGE</type>
                            <params/>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>当前已经读的数据量[1m]</name>
                    <key>maria.db[Innodb_data_read]</key>
                    <applications>
                        <application>
                            <name>innodb data status</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>SIMPLE_CHANGE</type>
                            <params/>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>数据写的总次数[1m]</name>
                    <key>maria.db[Innodb_data_writes]</key>
                    <applications>
                        <application>
                            <name>innodb data status</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>SIMPLE_CHANGE</type>
                            <params/>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>当前已经写的数据量[1m]</name>
                    <key>maria.db[Innodb_data_written]</key>
                    <applications>
                        <application>
                            <name>innodb data status</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>SIMPLE_CHANGE</type>
                            <params/>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>向日志文件写的总次数</name>
                    <key>maria.db[Innodb_os_log_fsyncs]</key>
                    <applications>
                        <application>
                            <name>innodb log Write</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>SIMPLE_CHANGE</type>
                            <params/>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>写入日志文件的字节数</name>
                    <key>maria.db[Innodb_os_log_written]</key>
                    <applications>
                        <application>
                            <name>innodb log Write</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>SIMPLE_CHANGE</type>
                            <params/>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>innodb rows deleted</name>
                    <key>maria.db[Innodb_rows_deleted]</key>
                    <applications>
                        <application>
                            <name>innodb rows status</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>SIMPLE_CHANGE</type>
                            <params/>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>innodb rows inserted</name>
                    <key>maria.db[Innodb_rows_inserted]</key>
                    <applications>
                        <application>
                            <name>innodb rows status</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>SIMPLE_CHANGE</type>
                            <params/>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>innodb rows read</name>
                    <key>maria.db[Innodb_rows_read]</key>
                    <applications>
                        <application>
                            <name>innodb rows status</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>SIMPLE_CHANGE</type>
                            <params/>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>innodb rows updated</name>
                    <key>maria.db[Innodb_rows_updated]</key>
                    <applications>
                        <application>
                            <name>innodb rows status</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>SIMPLE_CHANGE</type>
                            <params/>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>mping</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>maria.db[mping]</key>
                    <delay>30s</delay>
                    <history>15d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>可用性</name>
                        </application>
                    </applications>
                    <request_method>POST</request_method>
                    <triggers>
                        <trigger>
                            <expression>{regexp(alive)}&lt;&gt;1</expression>
                            <name>{HOST.NAME}{HOST.IP} mariadb is not runing</name>
                            <priority>DISASTER</priority>
                            <manual_close>YES</manual_close>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Questions查询的数量_2m</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>maria.db[Questions]</key>
                    <delay>2m</delay>
                    <history>15d</history>
                    <trends>30d</trends>
                    <description>已执行的由客户端发出的语句</description>
                    <applications>
                        <application>
                            <name>OPS/TPS</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>CHANGE_PER_SECOND</type>
                            <params/>
                        </step>
                    </preprocessing>
                    <request_method>POST</request_method>
                </item>
                <item>
                    <name>Slow_queries_慢查询_5m</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>maria.db[Slow_queries]</key>
                    <delay>5m</delay>
                    <history>15d</history>
                    <trends>30d</trends>
                    <value_type>FLOAT</value_type>
                    <description>慢查询的数量</description>
                    <applications>
                        <application>
                            <name>OPS/TPS</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>CHANGE_PER_SECOND</type>
                            <params/>
                        </step>
                    </preprocessing>
                    <request_method>POST</request_method>
                </item>
                <item>
                    <name>Threads_cached链接cached[60s]</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>maria.db[Threads_cached]</key>
                    <delay>60s</delay>
                    <history>15d</history>
                    <trends>30d</trends>
                    <description>如果采用每个连接一个线程的方式，可以通过Threads_connected查看，监控该指标与先前设置的连接限制，可以确保服务器拥有足够的容量处理新的连接。&#13;
&#13;
另外，通过Threads_running指标，可以查看正在处理请求的线程，可以用来判断那些连接被占用但却没有处理任何请求。&#13;
&#13;
如果达到max_connections就会拒绝新的连接请求，Connection_errors_max_connections指标就会开始增加，同时，追踪所有失败连接尝试的Aborted_connects指标也会开始增加。&#13;
&#13;
另外，通过Connection_errors_internal这个指标，可以用来监控来自服务器本身导致的错误，例如内存不足</description>
                    <applications>
                        <application>
                            <name>链接情况</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Threads_connected已经建立的链接[60s]</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>maria.db[Threads_connected]</key>
                    <delay>60s</delay>
                    <history>15d</history>
                    <trends>30d</trends>
                    <description>如果采用每个连接一个线程的方式，可以通过Threads_connected查看，监控该指标与先前设置的连接限制，可以确保服务器拥有足够的容量处理新的连接。&#13;
&#13;
另外，通过Threads_running指标，可以查看正在处理请求的线程，可以用来判断那些连接被占用但却没有处理任何请求。&#13;
&#13;
如果达到max_connections就会拒绝新的连接请求，Connection_errors_max_connections指标就会开始增加，同时，追踪所有失败连接尝试的Aborted_connects指标也会开始增加。&#13;
&#13;
另外，通过Connection_errors_internal这个指标，可以用来监控来自服务器本身导致的错误，例如内存不足</description>
                    <applications>
                        <application>
                            <name>链接情况</name>
                        </application>
                    </applications>
                    <request_method>POST</request_method>
                </item>
                <item>
                    <name>Threads_created建立的链接[60s]</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>maria.db[Threads_created]</key>
                    <delay>60s</delay>
                    <history>15d</history>
                    <trends>30d</trends>
                    <description>如果采用每个连接一个线程的方式，可以通过Threads_connected查看，监控该指标与先前设置的连接限制，可以确保服务器拥有足够的容量处理新的连接。&#13;
&#13;
另外，通过Threads_running指标，可以查看正在处理请求的线程，可以用来判断那些连接被占用但却没有处理任何请求。&#13;
&#13;
如果达到max_connections就会拒绝新的连接请求，Connection_errors_max_connections指标就会开始增加，同时，追踪所有失败连接尝试的Aborted_connects指标也会开始增加。&#13;
&#13;
另外，通过Connection_errors_internal这个指标，可以用来监控来自服务器本身导致的错误，例如内存不足</description>
                    <applications>
                        <application>
                            <name>链接情况</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Threads_running正在运行的连接[60s]</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>maria.db[Threads_running]</key>
                    <delay>60s</delay>
                    <history>15d</history>
                    <trends>30d</trends>
                    <description>如果采用每个连接一个线程的方式，可以通过Threads_connected查看，监控该指标与先前设置的连接限制，可以确保服务器拥有足够的容量处理新的连接。&#13;
&#13;
另外，通过Threads_running指标，可以查看正在处理请求的线程，可以用来判断那些连接被占用但却没有处理任何请求。&#13;
&#13;
如果达到max_connections就会拒绝新的连接请求，Connection_errors_max_connections指标就会开始增加，同时，追踪所有失败连接尝试的Aborted_connects指标也会开始增加。&#13;
&#13;
另外，通过Connection_errors_internal这个指标，可以用来监控来自服务器本身导致的错误，例如内存不足</description>
                    <applications>
                        <application>
                            <name>链接情况</name>
                        </application>
                    </applications>
                    <request_method>POST</request_method>
                </item>
                <item>
                    <name>Writes TPS[60s]</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>maria.db[TPS]</key>
                    <history>15d</history>
                    <trends>30d</trends>
                    <description>Com_insert+Com_update+Com_delete，也就是TPS</description>
                    <applications>
                        <application>
                            <name>OPS/TPS</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>CHANGE_PER_SECOND</type>
                            <params/>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>Innodb_buffer缓存使用率</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>maria.db[UsageRate]</key>
                    <delay>5m</delay>
                    <history>15d</history>
                    <trends>30d</trends>
                    <value_type>FLOAT</value_type>
                    <units>%</units>
                    <description>(Innodb_buffer_pool_pages_total - Innodb_buffer_pool_pages_free) /&#13;
    Innodb_buffer_pool_pages_total * 100%</description>
                    <applications>
                        <application>
                            <name>缓冲池使用情况</name>
                        </application>
                    </applications>
                    <triggers>
                        <trigger>
                            <expression>{last()}&gt;99</expression>
                            <name>{HOST.IP} innodb buffer 缓存池使用率达99%</name>
                            <priority>WARNING</priority>
                            <manual_close>YES</manual_close>
                        </trigger>
                    </triggers>
                </item>
            </items>
            <screens>
                <screen>
                    <name>mariadb status</name>
                    <hsize>3</hsize>
                    <vsize>4</vsize>
                    <screen_items>
                        <screen_item>
                            <resourcetype>0</resourcetype>
                            <style>0</style>
                            <resource>
                                <name>mariadb_1分钟增删改查命令统计</name>
                                <host>Mariadb_monitoring</host>
                            </resource>
                            <width>500</width>
                            <height>100</height>
                            <x>0</x>
                            <y>0</y>
                            <colspan>1</colspan>
                            <rowspan>1</rowspan>
                            <elements>0</elements>
                            <valign>0</valign>
                            <halign>0</halign>
                            <dynamic>0</dynamic>
                            <sort_triggers>0</sort_triggers>
                            <url/>
                            <application/>
                            <max_columns>3</max_columns>
                        </screen_item>
                        <screen_item>
                            <resourcetype>0</resourcetype>
                            <style>0</style>
                            <resource>
                                <name>mariadb_吞吐量</name>
                                <host>Mariadb_monitoring</host>
                            </resource>
                            <width>500</width>
                            <height>100</height>
                            <x>1</x>
                            <y>0</y>
                            <colspan>1</colspan>
                            <rowspan>1</rowspan>
                            <elements>0</elements>
                            <valign>0</valign>
                            <halign>0</halign>
                            <dynamic>0</dynamic>
                            <sort_triggers>0</sort_triggers>
                            <url/>
                            <application/>
                            <max_columns>3</max_columns>
                        </screen_item>
                        <screen_item>
                            <resourcetype>0</resourcetype>
                            <style>0</style>
                            <resource>
                                <name>mariadb_连接错误</name>
                                <host>Mariadb_monitoring</host>
                            </resource>
                            <width>500</width>
                            <height>100</height>
                            <x>2</x>
                            <y>0</y>
                            <colspan>1</colspan>
                            <rowspan>1</rowspan>
                            <elements>0</elements>
                            <valign>0</valign>
                            <halign>0</halign>
                            <dynamic>0</dynamic>
                            <sort_triggers>0</sort_triggers>
                            <url/>
                            <application/>
                            <max_columns>3</max_columns>
                        </screen_item>
                        <screen_item>
                            <resourcetype>0</resourcetype>
                            <style>0</style>
                            <resource>
                                <name>mariadb_InnoDB缓冲池[usage/hit]Rate</name>
                                <host>Mariadb_monitoring</host>
                            </resource>
                            <width>500</width>
                            <height>100</height>
                            <x>0</x>
                            <y>1</y>
                            <colspan>1</colspan>
                            <rowspan>1</rowspan>
                            <elements>0</elements>
                            <valign>0</valign>
                            <halign>0</halign>
                            <dynamic>0</dynamic>
                            <sort_triggers>0</sort_triggers>
                            <url/>
                            <application/>
                            <max_columns>3</max_columns>
                        </screen_item>
                        <screen_item>
                            <resourcetype>0</resourcetype>
                            <style>0</style>
                            <resource>
                                <name>mariadb_InnoDB缓冲池命中率1分钟详情</name>
                                <host>Mariadb_monitoring</host>
                            </resource>
                            <width>500</width>
                            <height>100</height>
                            <x>1</x>
                            <y>1</y>
                            <colspan>1</colspan>
                            <rowspan>1</rowspan>
                            <elements>0</elements>
                            <valign>0</valign>
                            <halign>0</halign>
                            <dynamic>0</dynamic>
                            <sort_triggers>0</sort_triggers>
                            <url/>
                            <application/>
                            <max_columns>3</max_columns>
                        </screen_item>
                        <screen_item>
                            <resourcetype>0</resourcetype>
                            <style>0</style>
                            <resource>
                                <name>mariadb_连接状态</name>
                                <host>Mariadb_monitoring</host>
                            </resource>
                            <width>500</width>
                            <height>100</height>
                            <x>2</x>
                            <y>1</y>
                            <colspan>1</colspan>
                            <rowspan>1</rowspan>
                            <elements>0</elements>
                            <valign>0</valign>
                            <halign>0</halign>
                            <dynamic>0</dynamic>
                            <sort_triggers>0</sort_triggers>
                            <url/>
                            <application/>
                            <max_columns>3</max_columns>
                        </screen_item>
                        <screen_item>
                            <resourcetype>0</resourcetype>
                            <style>0</style>
                            <resource>
                                <name>mariadb_innodb_数据读写1分钟的请求数</name>
                                <host>Mariadb_monitoring</host>
                            </resource>
                            <width>500</width>
                            <height>100</height>
                            <x>0</x>
                            <y>2</y>
                            <colspan>1</colspan>
                            <rowspan>1</rowspan>
                            <elements>0</elements>
                            <valign>0</valign>
                            <halign>0</halign>
                            <dynamic>0</dynamic>
                            <sort_triggers>0</sort_triggers>
                            <url/>
                            <application/>
                            <max_columns>3</max_columns>
                        </screen_item>
                        <screen_item>
                            <resourcetype>0</resourcetype>
                            <style>0</style>
                            <resource>
                                <name>mariadb_innodb_rows_1分钟相关操作</name>
                                <host>Mariadb_monitoring</host>
                            </resource>
                            <width>500</width>
                            <height>100</height>
                            <x>1</x>
                            <y>2</y>
                            <colspan>1</colspan>
                            <rowspan>1</rowspan>
                            <elements>0</elements>
                            <valign>0</valign>
                            <halign>0</halign>
                            <dynamic>0</dynamic>
                            <sort_triggers>0</sort_triggers>
                            <url/>
                            <application/>
                            <max_columns>3</max_columns>
                        </screen_item>
                        <screen_item>
                            <resourcetype>0</resourcetype>
                            <style>0</style>
                            <resource>
                                <name>mariadb_innodb_log_1分钟写入磁盘请求数</name>
                                <host>Mariadb_monitoring</host>
                            </resource>
                            <width>500</width>
                            <height>100</height>
                            <x>2</x>
                            <y>2</y>
                            <colspan>1</colspan>
                            <rowspan>1</rowspan>
                            <elements>0</elements>
                            <valign>0</valign>
                            <halign>0</halign>
                            <dynamic>0</dynamic>
                            <sort_triggers>0</sort_triggers>
                            <url/>
                            <application/>
                            <max_columns>3</max_columns>
                        </screen_item>
                        <screen_item>
                            <resourcetype>0</resourcetype>
                            <style>0</style>
                            <resource>
                                <name>mariadb_innodb_bufferpool_页面状态</name>
                                <host>Mariadb_monitoring</host>
                            </resource>
                            <width>500</width>
                            <height>100</height>
                            <x>0</x>
                            <y>3</y>
                            <colspan>1</colspan>
                            <rowspan>1</rowspan>
                            <elements>0</elements>
                            <valign>0</valign>
                            <halign>0</halign>
                            <dynamic>0</dynamic>
                            <sort_triggers>0</sort_triggers>
                            <url/>
                            <application/>
                            <max_columns>3</max_columns>
                        </screen_item>
                        <screen_item>
                            <resourcetype>0</resourcetype>
                            <style>0</style>
                            <resource>
                                <name>mariadb_网络字节数</name>
                                <host>Mariadb_monitoring</host>
                            </resource>
                            <width>500</width>
                            <height>100</height>
                            <x>1</x>
                            <y>3</y>
                            <colspan>1</colspan>
                            <rowspan>1</rowspan>
                            <elements>0</elements>
                            <valign>0</valign>
                            <halign>0</halign>
                            <dynamic>0</dynamic>
                            <sort_triggers>0</sort_triggers>
                            <url/>
                            <application/>
                            <max_columns>3</max_columns>
                        </screen_item>
                    </screen_items>
                </screen>
            </screens>
        </template>
    </templates>
    <graphs>
        <graph>
            <name>mariadb_1分钟增删改查命令统计</name>
            <show_work_period>NO</show_work_period>
            <graph_items>
                <graph_item>
                    <color>1A7C11</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[Com_delete]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>F63100</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[Com_insert]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>2</sortorder>
                    <color>2774A4</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[Com_update]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>3</sortorder>
                    <color>A54F10</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[com_select]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>4</sortorder>
                    <color>FC6EA3</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[Slow_queries]</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <name>mariadb_innodb_bufferpool_页面状态</name>
            <graph_items>
                <graph_item>
                    <color>1A7C11</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[Innodb_buffer_pool_pages_free]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>F63100</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[Innodb_buffer_pool_pages_data]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>2</sortorder>
                    <color>2774A4</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[Innodb_buffer_pool_pages_flushed]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>3</sortorder>
                    <color>A54F10</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[Innodb_buffer_pool_pages_dirty]</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <name>mariadb_innodb_log_1分钟写入磁盘请求数</name>
            <graph_items>
                <graph_item>
                    <color>1A7C11</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[Innodb_os_log_written]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>F63100</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[Innodb_os_log_fsyncs]</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <name>mariadb_innodb_rows_1分钟相关操作</name>
            <graph_items>
                <graph_item>
                    <color>1A7C11</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[Innodb_rows_deleted]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>F63100</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[Innodb_rows_inserted]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>2</sortorder>
                    <color>2774A4</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[Innodb_rows_read]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>3</sortorder>
                    <color>A54F10</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[Innodb_rows_updated]</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <name>mariadb_innodb_数据读写1分钟的请求数</name>
            <graph_items>
                <graph_item>
                    <color>1A7C11</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[Innodb_data_written]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>F63100</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[Innodb_data_read]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>2</sortorder>
                    <color>2774A4</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[Innodb_data_writes]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>3</sortorder>
                    <color>A54F10</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[Innodb_data_reads]</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <name>mariadb_InnoDB缓冲池[usage/hit]Rate</name>
            <graph_items>
                <graph_item>
                    <color>FC6EA3</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[UsageRate]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>6C59DC</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[HitRate]</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <name>mariadb_InnoDB缓冲池命中率1分钟详情</name>
            <graph_items>
                <graph_item>
                    <color>F63100</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[Innodb_buffer_pool_pages_total]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>2774A4</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[Innodb_buffer_pool_reads]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>2</sortorder>
                    <color>A54F10</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[Innodb_buffer_pool_read_requests]</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <name>mariadb_吞吐量</name>
            <graph_items>
                <graph_item>
                    <color>1A7C11</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[com_select]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>F63100</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[TPS]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>2</sortorder>
                    <color>2774A4</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[Questions]</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <name>mariadb_网络字节数</name>
            <graph_items>
                <graph_item>
                    <color>1A7C11</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[Bytes_sent]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>F63100</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[Bytes_received]</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <name>mariadb_连接状态</name>
            <graph_items>
                <graph_item>
                    <color>A54F10</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[Threads_cached]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>FC6EA3</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[Threads_connected]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>2</sortorder>
                    <color>6C59DC</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[Threads_created]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>3</sortorder>
                    <color>AC8C14</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[Threads_running]</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <name>mariadb_连接错误</name>
            <graph_items>
                <graph_item>
                    <color>2774A4</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[Connection_errors_internal]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>A54F10</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[Aborted_connects]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>2</sortorder>
                    <color>FC6EA3</color>
                    <item>
                        <host>Mariadb_monitoring</host>
                        <key>maria.db[Connection_errors_max_connections]</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
    </graphs>
</zabbix_export>
